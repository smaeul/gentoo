From 73d273982e6874388b9d2b3e53e670f0f538bcf6 Mon Sep 17 00:00:00 2001
From: Samuel Holland <samuel@sholland.org>
Date: Sun, 16 Sep 2018 16:38:48 +0000
Subject: [PATCH 10/14] Ignore broken and non-applicable tests

c-link-to-rust-va-list-fn: unstable feature, broken on aarch64, #56475
env-funky-keys: can't handle LD_PRELOAD (e.g. sandbox)
long-linker-command-lines: takes >10 minutes to run (but still passes)
sysroot-crates-are-unstable: can't run rustc without RPATH
---
 tests/run-make/c-link-to-rust-va-list-fn/Makefile   | 2 ++
 tests/run-make/long-linker-command-lines/Makefile   | 2 ++
 tests/run-make/sysroot-crates-are-unstable/Makefile | 2 ++
 tests/ui/env-funky-keys.rs                          | 1 +
 4 files changed, 7 insertions(+)

diff --git a/tests/run-make/c-link-to-rust-va-list-fn/Makefile b/tests/run-make/c-link-to-rust-va-list-fn/Makefile
index 596c0fce3ce..3a156893f91 100644
--- a/tests/run-make/c-link-to-rust-va-list-fn/Makefile
+++ b/tests/run-make/c-link-to-rust-va-list-fn/Makefile
@@ -1,4 +1,6 @@
 # ignore-cross-compile
+# ignore-aarch64
+
 include ../tools.mk
 
 all:
diff --git a/tests/run-make/long-linker-command-lines/Makefile b/tests/run-make/long-linker-command-lines/Makefile
index f864ea74f4a..f16eaf544cc 100644
--- a/tests/run-make/long-linker-command-lines/Makefile
+++ b/tests/run-make/long-linker-command-lines/Makefile
@@ -1,4 +1,6 @@
 # ignore-cross-compile
+# ignore-test
+
 include ../tools.mk
 
 all:
diff --git a/tests/run-make/sysroot-crates-are-unstable/Makefile b/tests/run-make/sysroot-crates-are-unstable/Makefile
index 30c33c5c13d..d733bb1c557 100644
--- a/tests/run-make/sysroot-crates-are-unstable/Makefile
+++ b/tests/run-make/sysroot-crates-are-unstable/Makefile
@@ -1,3 +1,5 @@
+# ignore-test
+
 -include ../tools.mk
 
 all:
diff --git a/tests/ui/env-funky-keys.rs b/tests/ui/env-funky-keys.rs
index 46e20d8c61f..b598ebfbb45 100644
--- a/tests/ui/env-funky-keys.rs
+++ b/tests/ui/env-funky-keys.rs
@@ -1,6 +1,7 @@
 // run-pass
 // Ignore this test on Android, because it segfaults there.
 
+// ignore-test
 // ignore-android
 // ignore-windows
 // ignore-emscripten no execve
-- 
2.41.0

